"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const dotenv_1 = require("dotenv");
dotenv_1.config();
require("./Global");
const Bootstrap_1 = require("./Bootstrap");
if (process.env.NODE_ENV !== 'production') {
    debugger;
}
let app = new Bootstrap_1.Bootstrap();
app.Init();
const Bull = require("bull");
const CacheConfig_1 = require("./config/CacheConfig");
const jobs_1 = require("./jobs");
const jobs_2 = require("./jobs");
const queue1 = new Bull('OPCheckOut', {
    redis: {
        db: 0,
        port: CacheConfig_1.CacheConfig.port,
        host: CacheConfig_1.CacheConfig.host,
        password: ''
    }
});
const queue2 = new Bull('IPBillModification', {
    redis: {
        db: 0,
        port: CacheConfig_1.CacheConfig.port,
        host: CacheConfig_1.CacheConfig.host,
        password: ''
    }
});
console.log(CacheConfig_1.CacheConfig);
queue1.process(jobs_1.OPCheckoutJob);
queue1.add({ name: 'daily_1_am' }, { repeat: { cron: '0 0 1 * * *' } })
    .catch((err) => {
    console.error(err);
});
queue2.process(jobs_2.IPBillmodificationJob);
queue2.add({ name: 'daily_2_am' }, { repeat: { cron: '0 0 2 * * *' } })
    .catch((err) => {
    console.error(err);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jcm9ucnVubmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbUNBQWdDO0FBQ2hDLGVBQU0sRUFBRSxDQUFDO0FBRVQsb0JBQWtCO0FBQ2xCLDJDQUF3QztBQUN4QyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLFFBQVEsQ0FBQztBQUNiLENBQUM7QUFDRCxJQUFJLEdBQUcsR0FBRyxJQUFJLHFCQUFTLEVBQUUsQ0FBQztBQUMxQixHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7QUFFWCw2QkFBNkI7QUFDN0Isc0RBQW1EO0FBQ25ELGlDQUF1QztBQUN2QyxpQ0FBK0M7QUFRL0MsTUFBTSxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO0lBQ2xDLEtBQUssRUFBRTtRQUNILEVBQUUsRUFBRSxDQUFDO1FBQ0wsSUFBSSxFQUFFLHlCQUFXLENBQUMsSUFBSTtRQUN0QixJQUFJLEVBQUUseUJBQVcsQ0FBQyxJQUFJO1FBQ3RCLFFBQVEsRUFBRSxFQUFFO0tBQ2Y7Q0FDSixDQUFDLENBQUM7QUFDSCxNQUFNLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtJQUMxQyxLQUFLLEVBQUU7UUFDSCxFQUFFLEVBQUUsQ0FBQztRQUNMLElBQUksRUFBRSx5QkFBVyxDQUFDLElBQUk7UUFDdEIsSUFBSSxFQUFFLHlCQUFXLENBQUMsSUFBSTtRQUN0QixRQUFRLEVBQUUsRUFBRTtLQUNmO0NBQ0osQ0FBQyxDQUFDO0FBc0NILE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQVcsQ0FBQyxDQUFDO0FBQ3pCLE1BQU0sQ0FBQyxPQUFPLENBQUMsb0JBQWEsQ0FBQyxDQUFDO0FBQzlCLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUUsQ0FBQztLQUNsRSxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUNYLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdkIsQ0FBQyxDQUFDLENBQUM7QUFFUCxNQUFNLENBQUMsT0FBTyxDQUFDLDRCQUFxQixDQUFDLENBQUM7QUFDdEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsRUFBRSxDQUFDO0tBQ2xFLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO0lBQ1gsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QixDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJjcm9ucnVubmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnZG90ZW52JztcclxuY29uZmlnKCk7XHJcblxyXG5pbXBvcnQgJy4vR2xvYmFsJztcclxuaW1wb3J0IHsgQm9vdHN0cmFwIH0gZnJvbSAnLi9Cb290c3RyYXAnO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgZGVidWdnZXI7XHJcbn1cclxubGV0IGFwcCA9IG5ldyBCb290c3RyYXAoKTtcclxuYXBwLkluaXQoKTtcclxuXHJcbmltcG9ydCAqIGFzIEJ1bGwgZnJvbSAnYnVsbCc7XHJcbmltcG9ydCB7IENhY2hlQ29uZmlnIH0gZnJvbSAnLi9jb25maWcvQ2FjaGVDb25maWcnO1xyXG5pbXBvcnQgeyBPUENoZWNrb3V0Sm9iIH0gZnJvbSAnLi9qb2JzJztcclxuaW1wb3J0IHsgSVBCaWxsbW9kaWZpY2F0aW9uSm9iIH0gZnJvbSAnLi9qb2JzJztcclxuXHJcbi8vLy8vaW1wb3J0IHsgUmVkaXN0b3NxbFNlcWJhY2t1cEpvYiB9IGZyb20gJy4vam9icyc7XHJcblxyXG4vLy8vLy8vLyBpbXBvcnQgeyBTTVNGb2xsb3dVcEFwcG9pbnRtZW50Sm9iIH0gZnJvbSAnLi9qb2JzJztcclxuLy8vLy8vLy8gaW1wb3J0IHsgU01TRGFpbHlEckFwcHRTdGF1dHNKb2IgfSBmcm9tICcuL2pvYnMnO1xyXG4vLy8vLy8vLyBpbXBvcnQgeyBTTVNGb2xsb3dVcFByZXNjcmlwdGlvbkpvYiB9IGZyb20gJy4vam9icyc7XHJcblxyXG5jb25zdCBxdWV1ZTEgPSBuZXcgQnVsbCgnT1BDaGVja091dCcsIHtcclxuICAgIHJlZGlzOiB7XHJcbiAgICAgICAgZGI6IDAsXHJcbiAgICAgICAgcG9ydDogQ2FjaGVDb25maWcucG9ydCxcclxuICAgICAgICBob3N0OiBDYWNoZUNvbmZpZy5ob3N0LFxyXG4gICAgICAgIHBhc3N3b3JkOiAnJ1xyXG4gICAgfVxyXG59KTtcclxuY29uc3QgcXVldWUyID0gbmV3IEJ1bGwoJ0lQQmlsbE1vZGlmaWNhdGlvbicsIHtcclxuICAgIHJlZGlzOiB7XHJcbiAgICAgICAgZGI6IDAsXHJcbiAgICAgICAgcG9ydDogQ2FjaGVDb25maWcucG9ydCxcclxuICAgICAgICBob3N0OiBDYWNoZUNvbmZpZy5ob3N0LFxyXG4gICAgICAgIHBhc3N3b3JkOiAnJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIGNvbnN0IHF1ZXVlNSA9IG5ldyBCdWxsKCdSZWRpc3Rvc3FsU2VxYmFja3VwSm9iJywge1xyXG4vLyAgICAgcmVkaXM6IHtcclxuLy8gICAgICAgICBkYjogMCxcclxuLy8gICAgICAgICBwb3J0OiBDYWNoZUNvbmZpZy5wb3J0LFxyXG4vLyAgICAgICAgIGhvc3Q6IENhY2hlQ29uZmlnLmhvc3QsXHJcbi8vICAgICAgICAgcGFzc3dvcmQ6ICcnXHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gY29uc3QgcXVldWUzID0gbmV3IEJ1bGwoJ1NNU0ZvbGxvd1VwQXBwb2ludG1lbnRKb2InLCB7XHJcbi8vICAgICByZWRpczoge1xyXG4vLyAgICAgICAgIGRiOiAwLFxyXG4vLyAgICAgICAgIHBvcnQ6IENhY2hlQ29uZmlnLnBvcnQsXHJcbi8vICAgICAgICAgaG9zdDogQ2FjaGVDb25maWcuaG9zdCxcclxuLy8gICAgICAgICBwYXNzd29yZDogJydcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vIGNvbnN0IHF1ZXVlNCA9IG5ldyBCdWxsKCdTTVNEYWlseURyQXBwdFN0YXV0c0pvYicsIHtcclxuLy8vLy8vLy8vLy8vLy8vLyAgICAgcmVkaXM6IHtcclxuLy8vLy8vLy8vLy8vLy8vLyAgICAgICAgIGRiOiAwLFxyXG4vLy8vLy8vLy8vLy8vLy8vICAgICAgICAgcG9ydDogQ2FjaGVDb25maWcucG9ydCxcclxuLy8vLy8vLy8vLy8vLy8vLyAgICAgICAgIGhvc3Q6IENhY2hlQ29uZmlnLmhvc3QsXHJcbi8vLy8vLy8vLy8vLy8vLy8gICAgICAgICBwYXNzd29yZDogJydcclxuLy8vLy8vLy8vLy8vLy8vLyAgICAgfVxyXG4vLy8vLy8vLy8vLy8vLy8vIH0pO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLyBjb25zdCBxdWV1ZTYgPSBuZXcgQnVsbCgnU01TRm9sbG93VXBQcmVzY3JpcHRpb25Kb2InLCB7XHJcbi8vLy8vLy8vLy8vLy8vLy8gICAgIHJlZGlzOiB7XHJcbi8vLy8vLy8vLy8vLy8vLy8gICAgICAgICBkYjogMCxcclxuLy8vLy8vLy8vLy8vLy8vLyAgICAgICAgIHBvcnQ6IENhY2hlQ29uZmlnLnBvcnQsXHJcbi8vLy8vLy8vLy8vLy8vLy8gICAgICAgICBob3N0OiBDYWNoZUNvbmZpZy5ob3N0LFxyXG4vLy8vLy8vLy8vLy8vLy8vICAgICAgICAgcGFzc3dvcmQ6ICcnXHJcbi8vLy8vLy8vLy8vLy8vLy8gICAgIH1cclxuLy8vLy8vLy8vLy8vLy8vLyB9KTtcclxuXHJcbmNvbnNvbGUubG9nKENhY2hlQ29uZmlnKTtcclxucXVldWUxLnByb2Nlc3MoT1BDaGVja291dEpvYik7XHJcbnF1ZXVlMS5hZGQoeyBuYW1lOiAnZGFpbHlfMV9hbScgfSwgeyByZXBlYXQ6IHsgY3JvbjogJzAgMCAxICogKiAqJyB9IH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pO1xyXG5cclxucXVldWUyLnByb2Nlc3MoSVBCaWxsbW9kaWZpY2F0aW9uSm9iKTtcclxucXVldWUyLmFkZCh7IG5hbWU6ICdkYWlseV8yX2FtJyB9LCB7IHJlcGVhdDogeyBjcm9uOiAnMCAwIDIgKiAqIConIH0gfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfSk7XHJcblxyXG4vLyBxdWV1ZTMucHJvY2VzcyhSZWRpc3Rvc3FsU2VxYmFja3VwSm9iKTtcclxuLy8gcXVldWUyLmFkZCh7IG5hbWU6ICdldmVyeV8xX21pbnV0ZXMnIH0sIHsgcmVwZWF0OiB7IGNyb246ICcqICovMSAqICogKiAqJyB9IH0pXHJcbi8vICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgIH0pO1xyXG4vLyBxdWV1ZTUucHJvY2VzcyhSZWRpc3Rvc3FsU2VxYmFja3VwSm9iKTtcclxuLy8gcXVldWU1LmFkZCh7IG5hbWU6ICdldmVyeV8xX21pbnV0ZXMnIH0sIHsgcmVwZWF0OiB7IGNyb246ICcqICovMSAqICogKiAqJyB9IH0pXHJcbi8vICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgIH0pO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBxdWV1ZTMucHJvY2VzcyhTTVNGb2xsb3dVcEFwcG9pbnRtZW50Sm9iKTtcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBxdWV1ZTMuYWRkKHsgbmFtZTogJ2V2ZXJ5X2RheV9ldmVuaW5nJyB9LCB7IHJlcGVhdDogeyBjcm9uOiAnMCAzMCAxNyAqICogKicgfSB9KVxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgICB9KTtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gcXVldWU0LnByb2Nlc3MoU01TRGFpbHlEckFwcHRTdGF1dHNKb2IpO1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIHF1ZXVlNC5hZGQoeyBuYW1lOiAnZXZlcnlfZGF5X2V2ZW5pbmcnIH0sIHsgcmVwZWF0OiB7IGNyb246ICcwIDMwIDE3ICogKiAqJyB9IH0pXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICAgIH0pO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBxdWV1ZTYucHJvY2VzcyhTTVNGb2xsb3dVcFByZXNjcmlwdGlvbkpvYik7XHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gcXVldWU2LmFkZCh7IG5hbWU6ICdldmVyeV9kYXlfZXZlbmluZycgfSwgeyByZXBlYXQ6IHsgY3JvbjogJzAgMzAgMTcgKiAqIConIH0gfSlcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgICAgfSk7XHJcblxyXG5cclxuIl19
